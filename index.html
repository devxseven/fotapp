
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Football Live Streaming</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            background: #121212;
            color: white;
            text-align: center;
            margin: 0;
            padding: 0;
        }
        .header {
            background: #222;
            padding: 20px;
            font-size: 24px;
            font-weight: bold;
        }
        .loading {
            font-size: 20px;
            margin: 20px;
            color: #ffcc00;
        }
        .match-list {
            margin: 20px auto;
            max-width: 600px;
        }
        .match-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            background: #1e1e1e;
            padding: 15px;
            margin: 10px 0;
            border-radius: 10px;
            cursor: pointer;
            text-align: center;
            position: relative;
        }
        .team-logos {
            display: flex;
            justify-content: space-between;
            align-items: center;
            width: 100%;
        }
        .team-logos img {
            width: 80px;
            height: 80px;
            border-radius: 10px;
        }
        .vs-text {
            font-size: 20px;
            font-weight: bold;
        }
        .league-name {
            font-size: 16px;
            margin-top: 5px;
            color: #ddd;
        }
        .match-time {
            font-size: 16px;
            font-weight: bold;
            color: #ffcc00;
        }
        .live-indicator {
            width: 50px;
            margin-top: 5px;
        }
        .video-container {
            display: none;
            padding: 20px;
        }
        video {
            width: 100%;
            border-radius: 10px;
        }
        .server-buttons {
            margin-top: 10px;
        }
        .server-buttons button {
            background: #ffcc00;
            color: black;
            padding: 10px;
            margin: 5px;
            border: none;
            cursor: pointer;
            font-size: 14px;
            border-radius: 5px;
        }
        .back-button {
            background: red;
            color: white;
            padding: 10px;
            margin-top: 10px;
            border: none;
            cursor: pointer;
            font-size: 14px;
            border-radius: 5px;
        }
    </style>
<link rel="me" href="https://www.blogger.com/profile/01749747087669730761" />
<meta name='google-adsense-platform-account' content='ca-host-pub-1556223355139109'/>
<meta name='google-adsense-platform-domain' content='blogspot.com'/>
</head>
<body>

    <div class="header">‚öΩ Live Football Streaming</div>

    <div id="loading" class="loading">Loading...</div>

    <div id="match-list" class="match-list" style="display: none;"></div>

    <div id="video-container" class="video-container">
        <video id="video-player" controls></video>
        <div id="server-buttons" class="server-buttons"></div>
        <button id="back-button" class="back-button">Back</button>
    </div>

    <script>
        let videoURL = "";
        let currentMatchServers = [];
        let isVideoScreen = false;

        document.addEventListener("DOMContentLoaded", function () {
            const matchList = document.getElementById("match-list");
            const loading = document.getElementById("loading");
            const videoContainer = document.getElementById("video-container");
            const videoPlayer = document.getElementById("video-player");
            const serverButtons = document.getElementById("server-buttons");
            const backButton = document.getElementById("back-button");

            // Fetch API Data
            fetch("https://raw.githubusercontent.com/painglay272/hello/refs/heads/main/footballapi.json")
                .then(response => response.json())
                .then(data => {
                    loading.style.display = "none";
                    matchList.style.display = "block";
                    
                    data.forEach(match => {
                        const div = document.createElement("div");
                        div.className = "match-item";
                        div.innerHTML = `
                            <div class="league-name">üèÜ ${match.league_name}</div>
                            <div class="team-logos">
                                <img src="${match.home_team_logo}" alt="${match.home_team_name}">
                                <span class="vs-text">VS</span>
                                <img src="${match.away_team_logo}" alt="${match.away_team_name}">
                            </div>
                            <div class="match-time">${convertTime(match.match_time)}</div>
                            ${match.servers.length > 0 ? `<img src="https://i.ibb.co/zh4NFD7X/image-search-1738164867840.gif" class="live-indicator">` : ""}
                        `;
                        div.onclick = function () {
                            videoURL = match.servers.length > 0 ? match.servers[0].stream_url : "";
                                currentMatchServers = match.servers;
                                matchList.style.display = "none";
                                videoContainer.style.display = "block";
                                isVideoScreen = true;
                                updateServerButtons();
                                if (videoURL) {
                                    videoPlayer.src = videoURL;
                                    videoPlayer.play();
                                } else {
                                    alert("·Äï·ÄΩ·Ä≤·ÄÅ·Äª·Ä≠·Äî·Ä∫·Äî·ÄÆ·Ä∏·Äô·Äæ ·Äù·ÄÑ·Ä∫·ÄÄ·Äº·Ää·Ä∫·Ä∑·Äï·Ä±·Ä∏·Äï·Ä´");
                                }
                        };
                        matchList.appendChild(div);
                    });
                });

            // Convert match_time to 12-hour format
            function convertTime(timestamp) {
                const date = new Date(timestamp * 1000);
                return date.toLocaleTimeString("en-US", { hour: "2-digit", minute: "2-digit", hour12: true });
            }

            // Update server buttons
            function updateServerButtons() {
                serverButtons.innerHTML = "";
                currentMatchServers.forEach(server => {
                    const btn = document.createElement("button");
                    btn.innerText = server.name;
                    btn.onclick = function () {
                        videoPlayer.src = server.stream_url;
                        videoPlayer.play();
                    };
                    serverButtons.appendChild(btn);
                });
            }

            // Handle back button
            backButton.addEventListener("click", function () {
                videoContainer.style.display = "none";
                matchList.style.display = "block";
                isVideoScreen = false;
            });

            // Prevent exit on first back press
            window.addEventListener("popstate", function (event) {
                if (isVideoScreen) {
                    videoContainer.style.display = "none";
                    matchList.style.display = "block";
                    isVideoScreen = false;
                } else {
                    if (confirm("Are you sure you want to exit?")) {
                        window.close();
                    }
                }
            });
        });
    </script>

</body>
</html>